{% extends 'base.html' %}
{% block title %}
    My Profile
{% endblock title %}


{% block content %}
    <!--modal-->
    <div class="ui modal" >
        <i class="close icon"></i>
        <div class="header">
            Update Your Profile
        </div>
        <div class="image content">
            <div class="ui medium image">
                <img src="{{profile.avatar.url}}">
            </div>
                        
        <div class="description leftPart" style="margin-left: 40px;">
            <div class="ui header">Provide some newest info about you.</div>
                        
                <form action="" method="POST" class="ui form" enctype="multipart/form-data">
                    {% csrf_token %}
                    {{form.as_p}}   
                        
                        
                    <div class="actions mt-5">
                        
                        <button class="ui black right labeled icon button" type="submit">
                            Update
                            <i class="checkmark icon"></i>
                        </button>
                    </div> 
                </form>
        </div>
        </div>
    </div>
        

    <div class="ui segment" style="width: 75%; margin: auto;">
        {% if confirm %}
            <div class="ui purple message">Your profile has been updated.</div>
        {% endif %} 
        <h3>
            <a href="{% url 'profiles:profile-detail-view' profile.slug %}">
                <div class="ui labeled button m-5 w-big">
                    <div class="ui purple basic button" style="color: #a28095;">
                        <i class="user icon"></i> {{request.user}}
                      </div>
                </div>
            </a>
        </h3>

            <div class="ui grid">
                <div class="row">
                    <div class="six wide column">
                            <img src="{{profile.avatar.url}}" class="ui medium rounded image">
                            <div class="row mt-5">
                                <button class="ui secondary button mt-5" id='modal-btn'>Update Your Profile</button> 
                            </div>
                        </div>
                        <div class="ten wide column">
                            <table class="ui celled orange table" style="border-color: #a28095;"> 
                                <tbody>
                                    <tr>
                                        <td>Username</td>
                                        <td>{{profile.user}}</td>
                                    </tr>
                                    <tr>
                                        <td>Name</td>
                                        <td>{{profile.name}}</td>
                                    </tr>
                                    <tr>
                                        <td>Bio</td>
                                        <td>{{profile.bio}}</td>
                                    </tr>
                                    <tr>
                                        <td>Number of Friends</td>
                                        <td>{{profile.get_friends_no}}</td>
                                    </tr>
                                    <tr>
                                        <td>Friends</td>
                                        <td>
                                            <ul>
                                                    
                                                {% for friend in profile.get_friends %}
                                                    <li>{{friend}}</li>
                                                {% endfor %}      
                                            </ul>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Number of Posts</td>
                                        <td>{{profile.get_post_no}}</td>
                                    </tr>
                                    <tr>
                                        <td>Number of Likes</td>
                                        <td>{{profile.get_likes_given_no}}</td>
                                    </tr>
                                    <tr>
                                        <td>Number of Likes Received</td>
                                        <td>{{profile.get_likes_received_no}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                </div>
            </div>
        </div>
    
    
{% endblock content %}
